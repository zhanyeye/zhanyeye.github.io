---
title: Linux 帮助命令
mathjax: true
date: 2019-12-18 15:50:08
tags:
categories:
---

内容来自[实验楼](https://www.shiyanlou.com/)

###### 内建命令与外部命令

什么是内建命令，什么是外部命令呢？这和帮助命令又有什么关系呢？

因为有一些查看帮助的工具在内建命令与外建命令上是有区别对待的。

> **内建命令**实际上是 shell 程序的一部分，其中包含一些比较简单的 Linux 系统命令，这些命令是写在 Bash 源码的 builtins 里面的，通常在 Linux 系统加载运行时 shell 就被加载并驻留在系统内存中，并且解析内部命令 shell 不需要创建子进程，所以其执行速度比外部命令快。比如：history、cd、exit 等等。更多的内部命令可以在推荐阅读的文章中查看到。

> **外部命令**是 Linux 系统中的实用程序部分，因为实用程序的功能通常都比较强大，所以其包含的程序量也会很大，在系统加载时并不随系统一起被加载到内存中，而是在需要时才将其调用内存。虽然其不包含在 shell 中，但是其命令执行过程是由 shell 程序控制的。外部命令是在 Bash 之外额外安装的，通常放在 `/bin`，`/usr/bin`，`/sbin`，`/usr/sbin` 等等。比如：ls、vi等。

简单来说就是一个是天生自带的天赋技能，一个是后天得来附加技能。我们可以使用`type` 命令来区分命令是内建的还是外部的。例如这两个得出的结果是不同的

```bash
type exit

type service
```

得到的是两种结果，若是对 `ls` 执行 `type` 命令，你还能得到第三种结果

```
# 得到这样的结果说明是内建命令，正如上文所说内建命令都是在 Bash 源码中的 builtins 的 .def 中
xxx is a shell builtin

# 得到这样的结果说明是外部命令，正如上文所说，外部命令在 /usr/bin or /usr/sbin 等等中
xxx is /usr/sbin/xxx

#若是得到 alias 的结果，说明该指令为命令别名所设定的名称；
xxx is an alias for xx --xxx
```



<!--more-->

###### alias 命令的使用

alias 是 shell 提供的一个内建命令，alias 的作用就是简化我们命令的输入，简单来说就是为一些较长的命令起绰号，让我们更方便记住、输入。

例如

```bash
alias ngconf='cd /etc/nginx/conf.d'
```

我通过这样的一个命令就为 `cd /etc/nginx/conf.d` 取了一个别名，这样我们直接输入 `ngconf` 就能达到同样的效果了：

删除别名 :  `unalias`

直接在 terminal 添加与删除的别名都只是对当前的 shell 生效，你重新打开一个 terminal 你之前的添加与删除都没有了，如果我要设置的 alias 永远生效的话，我们可以直接在相关的 shell 配置文件中添加相关的命令即可。

例如我不会用 `vi` 只会用 `vim`，我想设置一个 `alias vi='vim'`，那么我只需要将该命令写至相关的 shell 配置文件即可，当前我们用的是 zsh，所以我们写在 zsh 的配置文件中(若是用 bash 的可以修改 `~/.bashrc` 文件)：

```bash
# 编辑配置文件
vim ~/.zshrc

# 添加配置项
alias vi='vim'
```

如果我们只是想临时忽略别名的效果并不想删除别名的话，我们可以这样操作：

```bash
\ls

'ls'
```

###### help 命令的使用

 help 命令是用于显示 shell 内建命令的简要帮助信息。帮助信息中显示有该命令的简要说明以及一些参数的使用以及说明，一定记住 help 命令只能用于显示内建命令的帮助信息，不然就会得到你刚刚得到的结果。

```bash
$ help ls 
no help topics match 'ls'.
$ help cd
#help 用于查看内建命令....
```

外部命令的话基本上都有一个参数`--help` 或者是 `-h`，这样就可以得到相应的的帮助，看到你想要的东西了

###### man 命令的使用

得到的内容比用 help 更多更详细，而且　man　没有内建与外部命令的区分，因为 man 工具是显示系统手册页中的内容，也就是一本电子版的字典，这些内容大多数都是对命令的解释信息，还有一些相关的描述。通过查看系统文档中的 man 也可以得到程序的更多相关信息和 Linux 的更多特性。